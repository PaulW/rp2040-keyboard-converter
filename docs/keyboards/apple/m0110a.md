# Apple M0110A Keyboard

**Configuration**: `apple/m0110a`

---

## Overview

The M0110A was Apple's extended keyboard for the Macintosh Plus. Unlike the original compact M0110, this version added a numeric keypad and arrow keys whilst maintaining Apple's distinctive beige aesthetic. It uses Apple's proprietary M0110 protocol—a poll-based serial communication system that's quite different from the PC keyboard protocols.

**Current Implementation Status**: Protocol implementation's done as far as I can test it currently, as I'm still repairing and refurbishing the keyboard I've got. The scancode translation layer's waiting on that being sorted. Current firmware uses Set 1 scancodes as a placeholder just to allow builds.

---

## Specifications

| Specification | Details |
|---------------|---------|
| **Make** | Apple |
| **Model** | M0110A Extended Keyboard |
| **Keys** | 81 keys (extended layout with numpad) |
| **Protocol** | Apple M0110 (proprietary poll-based serial) |
| **Scancode Set** | Apple M0110 proprietary (not PC-compatible) |
| **Connector** | 4P4C telephone jack (RJ9/RJ10 style) |
| **Voltage** | 5V |
| **Switch Type** | Alps SKCC tall cream (early) or Mitsumi Standard Mechanical (later) |
| **Key Rollover** | 2-key rollover (2KRO) |
| **Layout** | Apple Macintosh extended layout |

---

## Building Firmware

You can build it for protocol testing, though the scancode translation layer's still waiting on hardware:

```bash
# Apple M0110A keyboard only (protocol testing)
docker compose run --rm -e KEYBOARD="apple/m0110a" builder

# Apple M0110A + AT/PS2 Mouse (not Apple mouse)
docker compose run --rm -e KEYBOARD="apple/m0110a" -e MOUSE="at-ps2" builder
```

**Output**: `build/rp2040-converter.uf2`

**Note**: The `MOUSE="at-ps2"` option adds support for standard AT/PS2 mice, not Apple mice. Apple mouse protocol is not currently supported.

See: [Building Firmware Guide](../../getting-started/building-firmware.md)

---

## Key Mapping

The M0110A uses Apple's proprietary scancode set, which needs a translation layer—currently using a Set 1 placeholder in [`keyboard.config`](../../../src/keyboards/apple/m0110a/keyboard.config) just for build compatibility.

### Physical Layout

The layout shows 81 keys with the integrated numeric keypad. One quirk worth noting—both physical Shift keys return the same scancode (0x71), which is why this keyboard needs custom Command Mode keys.

```
/* Apple M0110A Base Layer (from keyboard.h)
 * ,-------------------------------------------------------- . ,---------------.
 * |  `|  1|  2|  3|  4|  5|  6|  7|  8|  9|  0|  -|  =|   BS| |Clr|  =|  /|  *|
 * |---------------------------------------------------------| |---------------|
 * |Tab  |  Q|  W|  E|  R|  T|  Y|  U|  I|  O|  P|  [|  ]|   | |  7|  8|  9|  -|
 * |----------------------------------------------------'    | |---------------|
 * |CapsL |  A|  S|  D|  F|  G|  H|  J|  K|  L|  ;|  '|   Ret| |  4|  5|  6|  +|
 * |---------------------------------------------------------| |---------------|
 * |Shift   |  Z|  X|  C|  V|  B|  N|  M|  ,|  .|  /|Shft| Up| |  1|  2|  3|   |
 * |--------------------------------------- -----------------| |-----------|Ent|
 * | Optn|    Mac|           Space           |  \|Lft|Rig|Dwn| |      0|  .|   |
 * `---------------------------------------------------------' `---------------'
 */
```

### Raw Scancode Map

M0110A raw scancodes in hexadecimal (from keyboard.h):

```
/* Raw Codes (in hex):
 * ,---------------------------------------------------------. ,---------------.
 * | 65| 25| 27| 29| 2B| 2F| 2D| 35| 39| 33| 3B| 37| 31|   67| |*0F|*11|*1B|*05|
 * |---------------------------------------------------------| |---------------|
 * |   61| 19| 1B| 1D| 1F| 23| 21| 41| 45| 3F| 47| 43| 3D|   | |+33|+37|+39|+1D|
 * |-----------------------------------------------------'   | |---------------|
 * |    73| 01| 03| 05| 07| 0B| 09| 4D| 51| 4B| 53| 4F|    49| |+2D|+2F|+31|*0D|
 * |---------------------------------------------------------| |---------------|
 * |      71| 0D| 0F| 11| 13| 17| 5B| 5D| 57| 5F| 59| ~71|+1B| |+27|+29|+2B|+19|
 * |---------------------------------------------------------| |-----------|   |
 * |   75|     6F|            63             | 55|+0D|+05|+11| |    +25|+03|   |
 * `---------------------------------------------------------' `---------------'
 * 
 * [+] Keypad keys: preceded by 0x79 on press/release
 * [*] Special keypad keys: preceded by 0x71/0xF1 + 0x79 on press/release
 * [~] Duplicate keys: Both Left and Right Shift return 0x71
 * 
 * Note: Arrow keys and some keypad keys share codes:
 * Left/Pad+:   0x79,0x0D / 0x71,0x79,0x0D
 * Right/Pad*:  0x79,0x05 / 0x71,0x79,0x05  
 * Up/Pad/:     0x79,0x1B / 0x71,0x79,0x1B
 * Down/Pad=:   0x79,0x11 / 0x71,0x79,0x11
 */
```

### Apple-Specific Keys

| Apple Key | Modern Mapping | Notes |
|-----------|----------------|-------|
| **Command (⌘)** | Left GUI | Windows Key / Command |
| **Option** | Left Alt | Alt key |
| **Caps Lock** | Caps Lock | Toggle, not momentary |
| **Clear** | Num Lock / Clear | Numeric keypad clear |
| **Enter** | Keypad Enter | Numeric keypad enter |

---

## Customization

Once the scancode translation layer's complete, you'll be able to edit the keymap in [`keyboard.c`](../../../src/keyboards/apple/m0110a/keyboard.c) to remap keys as needed. Available keycodes are defined in [`hid_keycodes.h`](../../../src/common/lib/hid_keycodes.h).

### Command Mode Keys

This keyboard uses custom command mode keys since it only has a single shift key. The default Left Shift + Right Shift combination won't work here, so it uses **Left Shift + Left Alt (Option)** instead. Hold these for 3 seconds to enter Command Mode.

This override's defined in [`keyboard.h`](../../../src/keyboards/apple/m0110a/keyboard.h):

```c
#define CMD_MODE_KEY1 KC_LSHIFT
#define CMD_MODE_KEY2 KC_LALT
```

---

## Hardware Connection

### Connector and Pinout

The M0110A uses a 4P4C telephone-style jack (RJ9/RJ10 style). The connector looks like a telephone cable, but it's got a different pinout—don't just grab any old telephone cable without checking it first, or you might damage the keyboard.

**Pinout details**: See [M0110 Protocol - Physical Interface](../../protocols/m0110.md#physical-interface) for the complete 4P4C connector pinout.

### Wiring to RP2040

Connect the keyboard to your Raspberry Pi Pico:

| 4P4C Pin | Function | RP2040 GPIO | Notes |
|----------|----------|-------------|-------|
| 1 | GND | GND | Any ground pin |
| 2 | CLOCK | GPIO 3 (DATA+1) | Must be DATA pin + 1 |
| 3 | DATA | GPIO 2 (default) | Configurable in [`config.h`](../../../src/config.h) |
| 4 | VCC | VBUS (5V) | External 5V recommended for reliability |

The CLOCK pin must be DATA pin + 1—that's a hardware constraint. If you change DATA to GPIO 10, CLOCK becomes GPIO 11.

See: [Hardware Setup Guide](../../getting-started/hardware-setup.md)

---

## Protocol Details

The protocol's synchronous with the host initiating all communication. Clock frequency's 1 kHz (1 ms per bit), and communication's unidirectional—keyboard sends scancodes, but the converter can't send commands back, so there's no LED control. The keyboard's got a hardware limitation of 2KRO.

When the host queries the keyboard, it pulls DATA low. The keyboard responds with 8 bits of data—either a scancode or 0x7B if no key's pressed. That 0x7B is effectively a "null" scancode indicating idle state.

See: [Apple M0110 Protocol Documentation](../../protocols/m0110.md)

---

## History & Variants

The original M0110 was compact with no numeric keypad or arrow keys. The M0110A added the numpad and arrow keys whilst keeping the minimalist Apple aesthetic and integrated cable.

These keyboards used mechanical switches that varied by production period. Early production units had Alps SKCC tall cream switches, whilst later models used Mitsumi Standard Mechanical switches. Both provide tactile feedback.

| Model | Keys | Layout | Compatible Systems |
|-------|------|--------|--------------------|
| **M0110** | 58 | Compact | Macintosh 128K, 512K |
| **M0110A** | 81 | Extended | Macintosh 128K, 512K, 512K Enhanced, Plus |

Apple produced these keyboards for various regions including US ANSI layout, UK, German, French, and other regional variants.

---

## Troubleshooting

### Keyboard Not Detected

Check your wiring first—DATA should be GPIO2 and CLOCK should be GPIO3 by default (check [`config.h`](../../../src/config.h) to confirm). Make sure you have stable 5V power—external power's better than relying on the Pico's VBUS directly. 

Don't use random telephone cables—verify the 4P4C pinout first, and test continuity if you're having issues. These cables can have broken wires. The M0110A needs a power cycle to initialize properly too.

### Keys Not Registering

This is expected at the moment since the scancode translation isn't complete yet. Once that's sorted though, there are a few issues to watch for with these keyboards.

Alps SKCC switches can accumulate significant dirt and dust over the years—disassembling and cleaning them usually sorts that. They may benefit from light lubrication too. Sometimes the switches just fail though, so test individual switches if you're having problems. Also check for cold solder joints or cracked traces on the PCB.

The arrow keys and numeric keypad seem particularly prone to switch failures—quality's a bit lower in those sections. Some keys use membrane contacts which can fail over time, and the matrix diodes can pack in too.

### Command Mode Not Activating

Remember this keyboard uses Left Shift + Left Alt (Option), not Left Shift + Right Shift. Hold for 3 seconds, and make sure both keys are pressed simultaneously. Check that [`keyboard.h`](../../../src/keyboards/apple/m0110a/keyboard.h) defines CMD_MODE_KEY1/KEY2 correctly.

### Protocol Timing Issues

The M0110 protocol requires the host to poll at 1 kHz, with 1 ms per bit—slower than AT/PS2. Long cables can cause timing issues, so keep them short. If you're seeing 0x7B responses, that's normal—it just means "no key" pressed, not an error.

### 2KRO Limitation

This is expected behaviour. The M0110A's got a hardware limitation of 2-key rollover—only 2 keys can be pressed simultaneously (plus modifiers). This is a keyboard hardware limitation, not something the converter can fix.

---

## Source Files

- **Configuration**: [`src/keyboards/apple/m0110a/keyboard.config`](../../../src/keyboards/apple/m0110a/keyboard.config)
- **Keymap**: [`src/keyboards/apple/m0110a/keyboard.c`](../../../src/keyboards/apple/m0110a/keyboard.c)
- **Header**: [`src/keyboards/apple/m0110a/keyboard.h`](../../../src/keyboards/apple/m0110a/keyboard.h)

---

## Related Documentation

- [Supported Keyboards](../README.md) - All supported keyboards
- [Apple M0110 Protocol](../../protocols/m0110.md) - Protocol details
- [Hardware Setup](../../getting-started/hardware-setup.md) - Wiring guide
- [Building Firmware](../../getting-started/building-firmware.md) - Build instructions
- [Command Mode](../../features/README.md) - Command mode features

---

## External Resources

### Protocol Documentation

- **[Inside Macintosh Volume III (1985)](https://vintageapple.org/inside_o/pdf/Inside_Macintosh_Volume_III_1985.pdf)** - Official Apple documentation of M0110 protocol and keyboard specifications
- [Apple M0110/M0110A Technical Documentation](https://github.com/tmk/tmk_keyboard/wiki/Apple-M0110) - TMK keyboard wiki with protocol implementation details

### Community Resources

- [Macintosh Keyboard History](https://en.wikipedia.org/wiki/Apple_keyboards) - Historical context and production information

Deskthority Wiki's been an excellent resource for M0110A information in the past, though it doesn't always work reliably.

